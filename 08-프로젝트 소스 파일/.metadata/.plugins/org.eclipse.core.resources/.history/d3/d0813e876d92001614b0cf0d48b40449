<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberMapper">
	<resultMap type="com.bada_admin.model.Member" id="member" >
		<result property="id" column="id" />
		<result property="user_id" column="user_id" />
		<result property="user_pw" column="user_pw" />
		<result property="name" column="name" />
		<result property="email" column="email" />
		<result property="tel" column="tel" />
		<result property="postcode" column="postcode" />
		<result property="addr1" column="addr1" />
		<result property="addr2" column="addr2" />
		<result property="profile_img" column="profile_img" />
		<result property="reg_date" column="reg_date" />
		<result property="edit_date" column="edit_date" />
		<result property="is_admin" column="is_admin" />
		<result property="is_active" column="is_active"/>
	</resultMap>
	
	<!-- SELECT -->
	<!-- 로그인 정보 -->
	<select id="selectLoginInfo" parameterType="com.bada_admin.model.Member" resultMap="member">
		SELECT
			id, user_id, user_pw, name, email, tel, posecode, addr1, addr2, profile_img, DATE_FORMAT(reg_date, '%Y-%m-%d %T') AS reg_date, DATE_FORMAT(edit_date, '%Y-%m-%d %T') AS edit_date, is_admin, is_active
		FROM
			member
		WHERE
			user_id=#{user_id} AND user_pw=password(#{user_pw})
		ORDER BY
			id DESC
		LIMIT
			0, 1
	</select>
	
	
</mapper>